<!DOCTYPE html>
<html>
    <head>
        <title>L&ouml;sungsblatt Aufgabe 4</title>
        <!-- morris graph lib -->
        <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
        <!-- LaTeX-style equations -->
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
        </script>
        <script type="text/javascript"
                src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
        <!-- tests -->
        <script type="text/javascript">
            function assert(value, desc) {
                var li = document.createElement("li");
                li.style.color = value ? "green" : "red";
                li.appendChild(document.createTextNode(desc));
                var list = document.getElementById("results");
                if (!list) {
                    list = document.createElement("div");
                    document.body.appendChild(list);
                }
                list.appendChild(li);
            }

            function isInt(n){
                return Number(n)===n && n%1===0;
            };

            var Preconditions = {
                checkArgument: function(condition, message) {
                    if (!condition) {
                        throw Error('IllegalArgumentException: ' + (message || ''));
                    }
                }
            };
        </script>
    </head>
    <body>
        <h1 id="title">L&ouml;sung Aufgabe 4 <br></br> Ralf Prediger, Torben Fischer</h1>
        <h2>
            &Uuml;bung Aufgabe 4.1
        </h2>
        <p>
            Summenpaare
            <br>
            <br>
            Gegeben sei eine Sequenz S von ganzen Zahlen und eine ganze Zahl K. <br>
            Zu berechnen ist die Anzahl der Paare von Elementen (P, Q) aus S f&uuml;r die gilt: P+Q=K <br>
            Die Implementierung soll in O(|S| log(|S|)) laufen und h&auml;chstens O(|S|) zus&auml;tzlichen Speicher- bedarf haben.
        </p>
        <p>
            Beispiel: Bei der Eingabe $S = [1,2,3,4,4]$, $K = 5$ sind 3 Paare vorhanden.
        </p>
        <h3>
            Implementierung
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-1-results angezeigt -->
        <pre id="ad-4-1-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-4-1-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-4-1-code">
            var ad_4_1data = [];

            function summenpaareTime(s,k) {
                var start = new Date().getTime();
                summenpaare(s,k);
                var end = new Date().getTime();
                var time = end - start;
                return time;
            }

            var testArray = [];
            for(var i = 0; i < 1000; i ++) {
                testArray.push((Math.random() * i) + 1);
                ad_4_1data.push({
                    experiment : i,
                    value : summenpaareTime(testArray, 50)
                });
            }

            // Code
            function summenpaare(s,k) {
                Preconditions.checkArgument(Array.isArray(s), 'S ist kein Array');
                Preconditions.checkArgument(isInt(k), 'K ist kein Integer');
                var counter = 0;

                if(s.length < 2) {
                    return counter;
                }
                for(i = 0; i < s.length; i++) {
                    for(j = i; j < s.length; j++) {
                        if(s[i] + s[j] == k) {
                            counter++;
                        }
                    }
                }
                return counter;
            };

            // Tests
            assert(summenpaare([1,2,3,4,4],5) === 3, "S=[1,2,3,4,4] K=5 => 3");
            assert(summenpaare([-1,2,3,4,4],5) === 1, "S=[-1,2,3,4,4] K=5 => 1");
            assert(summenpaare([-1,-2,-3,-4,-4],5) === 0, "S=[-1,-2,-3,-4,-4] K=5 => 0");
            assert(summenpaare([-1,-2,-3,1,2,3],0) === 3, "S=[-1,-2,-3,1,2,3] K=0 => 3");
            assert(summenpaare([],5) === 0, "S=[] K=5 => 0");
            assert(summenpaare([5],5) === 0, "S=[5] K=5 => 0");
            assert(summenpaare([1,2,3,4,4],0) === 0, "S=[1,2,3,4,4] K=0 => 0");

            assert(typeof(summenpaare) === 'function', "function 'summenpaare' not implemented");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-4-1-source').html($('#ad-4-1-code').html())
        </script>

        <h3>
            Experimente: Zeitaufwand bei der Berechnung der Summenpaare.
        </h3>

        <div id="ad-4-1-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-4-1-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_4_1data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Ben&ouml;tigte Zeit']
            });
        </script>

        <!-- Aufgabe 2 -->
        <h2>
            &Uuml;bung Aufgabe 4.1
        </h2>
            Mittelpunkte
            <br>
            <br>
            Gegeben sei eine Sequenz S von ganzen Zahlen. Zu berechnen ist ein Index i f&uuml;r den gilt,  <br>
            dass die Summe der Elemente links gleich der Summe der Elemente rechts von i ist: <h4>$\sum\nolimits_{0 \leq j < i}$ S[j] = $\sum\nolimits_{i < k < |S|}$ S[k]</h4>
            Der R&uuml;ckgabewert -1 zeigt an, dass es keinen solchen Index gibt. <br>
            Die Implementierung soll in O(|S|) laufen und h&ouml;chstens O(|S|) zus&auml;tzlichen Speicherbedarf haben.
        <h3>
            Implementierung
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
        <pre id="ad-4-2-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-4-2-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-4-2-code">
            var ad_4_2data = [];

            function mittelpunkteTime(s) {
                var start = new Date().getTime();
                mittelpunkte(s);
                var end = new Date().getTime();
                var time = end - start;
                return time;
            }

            var testArrayMittelpunkte = [];
            for(var i = 0; i < 100; i ++) {
                testArrayMittelpunkte.push((Math.random() * i) + 1);
                ad_4_2data.push({
                    experiment : i,
                    value : mittelpunkteTime(testArrayMittelpunkte)
                });
            }

            function mittelpunkte(s) {
                Preconditions.checkArgument(Array.isArray(s), 'S ist kein Array');
//                for(i = 0; i < s.length; i++) {
//                    Preconditions.checkArgument(isInt(s[i]), 'S enth&auml;lt ung&uuml;ltige Werte');
//                }

                if(s.length < 3) {
                    return -1;
                }
                var left = s[0];
                var right = 0;

                for(i = 2; i < s.length; i++) {
                    right += s[i];
                }

                for(i = 1; i < s.length; i++) {
                    if(left == right) {
                        return i;
                    }
                    left += s[i];
                    right -= s[i+1];
                }
                return -1;
            }

            // Tests
            assert(mittelpunkte([1,2,3,5,3,2,1]) === 3, "S=[1,2,3,5,3,2,1] => 3");
            assert(mittelpunkte([-1,-2,-3,5,-3,-2,-1]) === 3, "S=[1,2,3,5,3,2,1] => 3");
            assert(mittelpunkte([-1,-2,-3,5,-6]) === 3, "S=[-1,-2,-3,5,-6] => 3");
            assert(mittelpunkte([1,1,1]) === 1, "S=[1,1,1] => 1");
            assert(mittelpunkte([0,0,0,0,0,0,0,0]) === 1, "S=[0,0,0,0,0,0,0,0] => 1");

            assert(mittelpunkte([]) === -1, "S=[] => -1");
            assert(mittelpunkte([1]) === -1, "S=[1] => -1");
            assert(mittelpunkte([1,2]) === -1, "S=[1,2] => -1");
            assert(mittelpunkte([1,2,3,5,5,2,1]) === -1, "S=[1,2,3,5,5,2,1] => -1");
            assert(mittelpunkte([-1,-2,-3,5,1,2,3]) === -1, "S=[-1,-2,-3,5,1,2,3] => -1");

            assert(typeof(mittelpunkte) === 'function', "function 'mittelpunkte' not implemented");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-4-2-source').html($('#ad-4-2-code').html())
        </script>
        <h3>
            Experimente: Zeitaufwand bei der Berechnung der Mittelpunkte.
        </h3>

        <div id="ad-4-2-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-4-2-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_4_2data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Ben&ouml;tigte Zeit']
            });
        </script>

        <h3>
            Implementierung mit memoization.
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
        <pre id="ad-4-3-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-4-3-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-4-3-code">
            var ad_4_3data = [];

            function Tree() {
                this.constructor = Tree;
                this.key = new Key();
                this.left = null;
                this.right = null;
                this.empty = empty;
                this.insert = insert;
            }

            function insert(key) {
                if(this.empty()) {
                    this.key.setKey(key);
                } else if(this.key.compare(key) < 0) {
                    if(this.right == null) {
                        this.right = new Tree();
                        this.right.insert(key);
                    } else {
                        this.right.insert(key);
                    }
                } else {
                    if(this.left == null) {
                        this.left = new Tree();
                        this.left.insert(key);
                    } else {
                        this.left.insert(key);
                    }
                }
            }

            function empty() {
              if(this.key.getKey() == null) {
                  return true;
              } else {
                  return false;
              }
            }

            function Key(key) {
                this.constructor = Key;
                this.key = key;
                this.getKey = getKey;
                this.setKey = setKey;
                this.compare = compare;
            }

            function getKey() {
                return this.key;
            }

            function setKey(key) {
                if(this.key == null) {
                    this.key = key;
                    return true;
                } else {
                    return false;
                }
            }

            function compare(other_key) {
                if(this.key < other_key) {
                    return -1;
                } else if(this.key > other_key) {
                    return 1;
                }
                return 0;
            }

            var tree = new Tree();
            tree.insert(4);
            tree.insert(2);
            tree.insert(1);
            tree.insert(3);
            tree.insert(6);
            tree.insert(5);
            tree.insert(7);

            console.log(tree);

            // Tests
//            assert(fib2(5) === 5, "5 => 5");
//            assert(fib2(0) === 0, "0 => 0");
//            assert(fib2(50) === 12586269025, "50 => 12586269025");
//            assert(fib2(-1) === false, "-1 => false");

            assert(typeof(Baum) === 'function', "function 'Baum' not implemented");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-4-3-source').html($('#ad-4-3-code').html())
        </script>
        <h3>
            Experimente: Zeitaufwand bei der Berechnung der Fibonacci-Zahlen.
        </h3>

        <div id="ad-4-3-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-4-3-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_4_3data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Ben&ouml;tigte Zeit']
            });
        </script>

        <h3>
            Implementierung ohne memoization.
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
        <pre id="ad-1-2-3-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-1-2-3-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-1-2-3-code">
            var ad_1_2_3data = [];
            
//            function fib_time3(n) {
//                var start = new Date().getTime();
//                fib3(n);
//                var end = new Date().getTime();
//                var time = end - start;
//                return time;
//            }
//
//            for(var i = 0; i < 100; i ++) {
//            ad_1_2_3data.push({
//              experiment : i,
//              value : fib_time3(i)
//              });
//            }

            function fib3(n) {
                if(n < 0) {
                    return false;
                } else {
                    var a = -1;
                    var b = 1;
                    var c = 0;
                    for(var i = 0; i <= n; i++) {
                        c = a + b;
                        a = b;
                        b = c;  
                    }
                    return c;
                }
            }
                        
            // Tests
            assert(fib3(5) === 5, "5 => 5");
            assert(fib3(0) === 0, "0 => 0");
            assert(fib3(50) === 12586269025, "50 => 12586269025");
            assert(fib3(-1) === false, "-1 => false");
            assert(typeof(fib3) === 'function', "function 'fib3' not implemented");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-1-2-3-source').html($('#ad-1-2-3-code').html())
        </script>
        <h3>
            Experimente: Zeitaufwand bei der Berechnung der Fibonacci-Zahlen.
        </h3>

        <div id="ad-1-2-3-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-2-3-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_2_3data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Ben&ouml;tigte Zeit']
            });
        </script>
        <h3>
            Implementierung iterative Version von fib3.
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
        <pre id="ad-1-2-4-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-1-2-4-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-1-2-4-code">
            var ad_1_2_4data = [];
            
//            function fib_time4(n) {
//                var start = new Date().getTime();
//                fib4(n);
//                var end = new Date().getTime();
//                var time = end - start;
//                return time;
//            }
//
//            for(var i = 0; i < 100; i ++) {
//            ad_1_2_4data.push({
//              experiment : i,
//              value : fib_time4(i)
//              });
//            }
            
            function fib4(n) {
                if(n < 0) {
                    return false;
                } else {
                    var a = -1;
                    var b = 1;
                    var c = 0;
                    var i = 0;
                    while(i <= n) {
                        c = a + b;
                        a = b;
                        b = c;
                        i = i + 1;
                    }
                    return c;
                }
            }
                        
            // Tests
            assert(fib4(5) === 5, "5 => 5");
            assert(fib4(0) === 0, "0 => 0");
            assert(fib4(50) === 12586269025, "50 => 12586269025");
            assert(fib4(-1) === false, "-1 => false");
            assert(typeof(fib4) === 'function', "function 'fib4' not implemented");
            
            // Fibo Test
            assert(fib4(5) === fib2(5), "Fib4(5) => Fib2(5)");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-1-2-4-source').html($('#ad-1-2-4-code').html())
        </script>
           
        <h3>
            Experimente: Zeitaufwand bei der Berechnung der Fibonacci-Zahlen.
        </h3>

        <div id="ad-1-2-4-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-2-4-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_2_4data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Ben&ouml;tigte Zeit']
            });
        </script>
        
        <h3>
            Gegenseitiges testen der Fibonacci-Methoden auf Legalit&auml;t
        </h3>
        <pre id="ad-1-5-1-source"></pre>
        <div id="ad-1-5-1-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-1-5-1-code">
            // Fibo Test
            assert(fib(5) === fib2(5), "Fib(5) => Fib2(5)");
            assert(fib(10) === fib2(10), "Fib(10) => Fib2(10)");
            assert(fib2(5) === fib3(5), "Fib2(5) => Fib3(5)");
            assert(fib(10) === fib2(10), "Fib2(10) => Fib3(10)");
            assert(fib3(5) === fib4(5), "Fib3(5) => Fib4(5)");
            assert(fib3(10) === fib4(10), "Fib3(10) => Fib4(10)");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-1-5-1-source').html($('#ad-1-5-1-code').html())
        </script>
        
        <!-- Aufgabe 3 -->
        <h2>
            Aufgabe 3
        </h2>
            Verkettete und Sequentielle Listen. Unsere Listen sollen folgende Methoden unterst&uuml;tzen: 
            <ol>
                <li>
                    Ein Element vorne anf&uuml;gen. cons(x, list)
                </li>
                <li>
                    Vorderstes Element zur&uuml;ckgeben. head(list)
                </li>
                <li>
                    Restliste zur&uuml;ckgeben. tail(list)
                </li>
                <li>
                    L&auml;nge einer Liste bestimmen. length(list)
                </li>
                <li>
                    Ist die Liste leer? isempty(list)
                </li>
                <li>
                    Ein Element nach n Elementen einf&uuml;gen. insert(x, n, list)
                </li>
            </ol>
        <h2>
            Antwort 3
        </h2>
        <h3>
            Implementierung List
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
        <pre id="ad-1-3-1-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-1-3-1-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-1-3-1-code">    
            var ad_1_3_1data = [];
            var ad_1_3_2data = [];
            var ad_1_3_3data = [];
            
            function List(){
                List.create = function() {
                    return {first:null,rest:null};
                };
                
                this.start = null;
                this.end   = null;
                
                var counter = 0;
                
                this.count = function() {
                    counter++;
                }
                
                this.countReset = function() {
                    counter = 0;
                }
                
                this.getCount = function() {
                    return counter;
                }
                
                this.cons = function(elem) {
                    this.countReset();
                    this.insert(elem,0);
                };

                this.add = function (data) {
                    if(this.start===null){
                        this.start=List.create(); 
                        this.end=this.start;
                    }else{ 
                        this.count();
                        this.end.rest=List.create(); 
                        this.end=this.end.rest; 
                    };
                    this.end.first=data;   
                };
                
                this.length = function() {
                    var length = 0;
                    var current = this.start;
                    while (current !== null) {
                        length = length + 1;
                        current = current.rest; 
                    }
                    return length;
                }
                
                this.insert = function(x, n) {
                    if(this.start === null && this.end === null) {
                        this.end = List.create();
                        this.end.first = x;
                        var temp = List.create();
                        temp.rest = this.start; 
                        this.start = temp; 
                        temp.first = x;
                    } else {
                        if(n === 0) {
                            this.count();
                            var temp = List.create();
                            temp.rest = this.start; 
                            this.start = temp; 
                            temp.first = x;
                        } else if(n >= this.length()) {
                            this.count();
                            this.insert(x, this.length()-1);
                        } else {
                            var current = this.start;
                            var i = 1;
                            while (current !== null) {
                                this.count();
                                if (i === n) {
                                    var temp = List.create();
                                    temp.first = x;
                                    temp.rest = current.rest;
                                    if (current == this.end) this.end = temp;
                                    current.rest = temp;
                                    return;
                                }
                                i = i + 1;
                                current = current.rest;
                            }
                        }
                    }
                };
                
                this.head = function() {
                    var head = this.start.first;
                    return head;
                }
                
                this.tail = function() {
                    var tail = new List();
                    tail.start = this.start.rest;
                    tail.end = this.end;
                    return tail;
                } 
                
                this.isempty = function() {
                    return (this.start === null && this.end === null);
                }
                
                this.to_s = function() {
                    return this.start;
                }
            }
            
            function exp1() {
                var exp1List = new List();
                for(var i = 0; i < 100; i ++) {                    
                    exp1List.cons(i);
                    ad_1_3_1data.push({
                        experiment : i,
                        value : exp1List.getCount()
                    });
                }
            }
            
            function exp2() {
                var exp2List = new List();
                for(var i = 0; i < 100; i ++) {                    
                    exp2List.add(i);
                    ad_1_3_2data.push({
                        experiment : i,
                        value : exp2List.getCount()
                    });
                }
            }
            
            function exp3() {
                var exp3List = new List();
                for(var i = 1; i <= 100; i ++) {
                    var x = (Math.random() * (i-1));
                    exp3List.insert(i,x);
                    ad_1_3_3data.push({
                        experiment : i,
                        value : exp3List.getCount()
                    });
                }
            }
            
            exp1();
            exp2();
            exp3();

            var list = new List();
           
            for(var i = 0; i < 10; i++) {
                list.cons(i);
            }
            
            var testList = new List();
            for(var i = 0; i < 9; i++) {
                testList.cons(i);
            }
            // Tests
            assert(list.head() === 9, "{9,8,7,6,5,4,3,2,1,0}.head() => 9");
            list.cons(10);
            assert(list.head() === 10, "{10,9,8,7,6,5,4,3,2,1,0}.cons(10).head() => 10");
            list.insert(11,8);
            assert(list.length() === 12, "{10,9,8,7,6,5,4,11,3,2,1,0}.insert(11,8).length() => 12");
            assert(list.tail().length() === 11, "{10,9,8,7,6,5,4,11,3,2,1,0}.tail().length() => 11");
            assert(list.isempty() === false, "{10,9,8,7,6,5,4,11,3,2,1,0}.isempty() => false");
            var emptyList = new List();
            assert(emptyList.isempty(), "{}.isempty() => true");
            assert(typeof(List) === 'function', "Class 'List' not implemented");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-1-3-1-source').html($('#ad-1-3-1-code').html())
        </script>
        <h3>
            Experiment Liste: Zugriffe auf die Liste f&uuml;r das anf&uuml;gen am Anfang der Liste.
        </h3>

        <div id="ad-1-3-1-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-3-1-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_3_1data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Zugriffe']
            });
        </script>
        <script>
            $('pre#ad-1-3-1-source').html($('#ad-1-3-1-code').html())
        </script>
        <h3>
            Experiment Liste: Zugriffe auf die Liste f&uuml;r das anf&uuml;gen an das Ende der Liste.
        </h3>

        <div id="ad-1-3-2-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-3-2-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_3_2data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Zugriffe']
            });
        </script>
        <script>
            $('pre#ad-1-3-1-source').html($('#ad-1-3-1-code').html())
        </script>
        <h3>
            Experiment Liste: Zugriffe auf die Liste f&uuml;r das zuf&auml;llige einf&uuml;gen.
        </h3>

        <div id="ad-1-3-3-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-3-3-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_3_3data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Zugriffe']
            });
        </script>
        <h3>
            Implementierung ArrayList
        </h3>
        <!-- In diesem Element wird der Inhalt des scripts mit der ID ad-1-2-code angezeigt -->
        <pre id="ad-1-4-1-source"></pre>
        <h3>
            Testergebnisse
        </h3>
        <div id="ad-1-4-1-results"></div>
        <!-- Code und Tests hier hin -->
        <script id="ad-1-4-1-code">    
            var ad_1_4_1data = [];
            var ad_1_4_2data = [];
            var ad_1_4_3data = [];
            
            function ArrayList(){
                ArrayList.create = function() {
                    return [];
                };
                
                this.content = null;
                var length = 0; 
                var cap = 10;
                var counter = 0;
                var tailLength = 0;
                
                this.count = function() {
                    counter++;
                }
                
                this.countReset = function() {
                    counter = 0;
                }
                
                this.getCount = function() {
                    return counter;
                }
                
                this.cap = function() {
                    cap = cap + 10;
                }
                
                this.getCap = function() {
                    return cap;
                }
                
                this.cons = function(elem) {
                    this.insert(elem,0);
                };
                
                this.add = function(elem) {
                    this.insert(elem,this.length()-1);
                }
                
                this.length = function() {
                    return length;
                };
                
                this.insert = function(x, n) {
                    if(this.content === null) {
                        this.content = ArrayList.create();
                        this.content[0] = n;
                    } else {
                        var newArray = new ArrayList();
                        newArray.content = ArrayList.create();
                        if(n > this.length()) {
                            this.insert(x, this.length()-1);
                        } else {
                            for(var i = 0; i <= this.length(); i++){
                                if(i === n) {
                                    this.count();
                                    newArray.content[i] = x;
                                    var temp = true;
                                } else {
                                    if(temp) {
                                        this.count();
                                        newArray.content[i] = this.content[i-1];
                                    } else {
                                        this.count();
                                        newArray.content[i] = this.content[i];
                                    }
                                }
                            }
                            this.content = newArray.content;
                        }
                    }
                    length++;
                    if(this.length() > this.getCap()) {                        
                        var newArrayList = new ArrayList();
                        newArrayList.content = ArrayList.create();
                        this.cap();
                        
                        for(var i = 0; i < this.length(); i++) {
                            this.count();
                            newArrayList.content[i] = this.content[i];
                        }
                        
                        this.content = newArrayList.content;
                    }                    
                };
                
                this.head = function() {
                    var head = this.content[0];
                    return head;
                }
                
                this.tail = function() {
                    var tail = new ArrayList();
                    tail.content = ArrayList.create();
                    for(var i = 1; i < this.length(); i++) {
                        tail.content[i-1] = this.content[i];
                    }
                    return tail;
                }
                 
                this.isempty = function() {
                    return (this.length() === 0);
                }
                
                this.to_s = function() {
                    return this.content;
                }
            }
            
            function arrayExp1() {
                var exp1ArrayList = new ArrayList();
                for(var i = 0; i < 100; i ++) {                    
                    exp1ArrayList.cons(i);
                    ad_1_4_1data.push({
                        experiment : i,
                        value : exp1ArrayList.getCount()
                    });
                }
            }
            
            function arrayExp2() {
                var arrayExp2List = new ArrayList();
                for(var i = 0; i < 100; i ++) {                    
                    arrayExp2List.add(i);
                    ad_1_4_2data.push({
                        experiment : i,
                        value : arrayExp2List.getCount()
                    });
                }
            }
            
            function arrayExp3() {
                var arrayExp3List = new ArrayList();
                for(var i = 1; i <= 100; i ++) {
                    var x = (Math.random() * (i-1));
                    arrayExp3List.insert(x,i);
                    ad_1_4_3data.push({
                        experiment : i,
                        value : arrayExp3List.getCount()
                    });
                }
            }
            
            arrayExp1();
            arrayExp2();
            arrayExp3();

            var arraylist = new ArrayList();
            for(var i = 0; i < 10; i++) {
                arraylist.cons(i);
            } 
            
            // Tests
            assert(arraylist.head() === 9, "[9,8,7,6,5,4,3,2,1,0].head() => 9");
            arraylist.cons(5);
            assert(arraylist.head() === 5, "[9,8,7,6,5,4,3,2,1,0].cons(5).head() => 5");
            arraylist.insert(11,8);
            assert(arraylist.length() === 12, "[5,9,8,7,6,5,4,3,2,1,0].insert(11,8).length() => 11");
            assert(arraylist.isempty() === false, "[5,9,8,7,6,5,4,11,3,2,1,0].isempty() => false");
            var emptyArrayList = new ArrayList();
            assert(emptyArrayList.isempty(), "[].isempty() => true");
            assert(typeof(ArrayList) === 'function', "function 'ArrayList' not implemented");
        </script>
        <!-- dieser Code zeigt die Implementierung und die Tests an -->
        <script>
            $('pre#ad-1-4-1-source').html($('#ad-1-4-1-code').html())
        </script>
        <h3>
            Experiment ArrayListe: Zugriffe auf die ArrayListe f&uuml;r das anf&uuml;gen am Anfang der ArrayListe.
        </h3>

        <div id="ad-1-4-1-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-4-1-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_4_1data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Zugriffe']
            });
        </script>
        <script>
            $('pre#ad-1-4-1-source').html($('#ad-1-4-1-code').html())
        </script>
        <h3>
            Experiment ArrayListe: Zugriffe auf die ArrayListe f&uuml;r das anf&uuml;gen an das Ende der ArrayListe.
        </h3>

        <div id="ad-1-4-2-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-4-2-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_4_2data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Zugriffe']
            });
        </script>
        <script>
            $('pre#ad-1-4-1-source').html($('#ad-1-4-1-code').html())
        </script>
        <h3>
            Experiment ArrayListe: Zugriffe auf die ArrayListe f&uuml;r das zuf&auml;llige einf&uuml;gen.
        </h3>

        <div id="ad-1-4-3-experiments" style="height: 250px;"></div>
        <script>
            new Morris.Line({
                // ID of the element in which to draw the chart.
                element: 'ad-1-4-3-experiments',
                // do values relate to dates (time)?
                parseTime: false,
                // Chart data records -- each entry in this array corresponds to a point on
                // the chart.
                data: ad_1_4_3data,
                // The name of the data record attribute that contains x-values.
                xkey: 'experiment',
                // A list of names of data record attributes that contain y-values.
                ykeys: ['value'],
                // Labels for the ykeys -- will be displayed when you hover over the
                // chart.
                labels: ['Zugriffe']
            });
        </script>
    </body>
</html>